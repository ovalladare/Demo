<div class="presentation-container">
  <!-- Glowing background effects -->
  <div class="glow-orb orb-1"></div>
  <div class="glow-orb orb-2"></div>

  <header class="header">
    <div class="logo">
      <span class="logo-icon">‚òÅÔ∏è</span> Amplify Demo
    </div>
    <div class="client-name">Project: <span class="highlight">Coco Colima</span></div>
  </header>

  <main class="main-content">
    <section class="hero-section">
      <h1 class="title">Potencia y Escalabilidad Oculta</h1>
      <p class="subtitle">Descubre c√≥mo AWS Amplify acelera la conexi√≥n y despliegue de soluciones robustas, conectando
        directamente con tu backend SAP ServiceLayer de forma segura.</p>

      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">üöÄ</div>
          <h3>R√°pido Despliegue</h3>
          <p>Lleva tus ideas a producci√≥n en minutos, sin lidiar con infraestructura compleja.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üîí</div>
          <h3>Conexi√≥n Segura</h3>
          <p>Integraci√≥n nativa con capas de seguridad avanzadas para proteger cada transacci√≥n con SAP.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">‚ö°</div>
          <h3>Conexi√≥n Directa</h3>
          <p>Prueba en vivo la integraci√≥n con SAP B1 Service Layer usando este demo.</p>
        </div>
      </div>
    </section>

    <!-- Interactive Connection Card -->
    <section class="demo-section">
      <div class="connection-card glass-panel">
        <h2>Conexi√≥n ServiceLayer</h2>
        <div *ngIf="!isConnected" class="animate-fade">
          <p class="card-desc">Ingresa tus credenciales de SAP para probar la conectividad en vivo. Todo el poder de
            integraci√≥n desde un cliente construido con Amplify.</p>

          <form class="connection-form" (ngSubmit)="onConnect()">
            <div class="input-group">
              <label for="url">URL ServiceLayer</label>
              <input id="url" type="url" [(ngModel)]="url" name="url"
                placeholder="https://iis.cococolima.com.mx:50000/b1s/v2/" required>
            </div>

            <div class="input-row">
              <div class="input-group">
                <label for="companyDb">Base de Datos</label>
                <input id="companyDb" type="text" [(ngModel)]="companyDb" name="companyDb" placeholder="SBODEMOMX"
                  required>
              </div>
            </div>

            <div class="input-row">
              <div class="input-group">
                <label for="username">Usuario</label>
                <input id="username" type="text" [(ngModel)]="username" name="username" placeholder="manager" required>
              </div>

              <div class="input-group">
                <label for="password">Contrase√±a</label>
                <input id="password" type="password" [(ngModel)]="password" name="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                  required>
              </div>
            </div>

            <button type="submit" class="btn-connect" [class.loading]="loading" [disabled]="loading">
              <span class="btn-text" *ngIf="!loading">Prueba de Conexi√≥n</span>
              <span class="spinner" *ngIf="loading"></span>
            </button>
          </form>
        </div>

        <!-- Feedback Messages -->
        <div class="status-message success animate-fade" *ngIf="successMessage">
          <span class="icon">‚úÖ</span>
          {{ successMessage }}
        </div>
        <div class="status-message error animate-fade" *ngIf="errorMessage">
          <span class="icon">‚ùå</span>
          {{ errorMessage }}
        </div>

        <!-- Gu√≠a de Certificado SSL Auto-Firmado -->
        <div class="ssl-warning-card animate-fade" *ngIf="sslWarning">
          <div class="ssl-warning-title">üîê Acci√≥n Requerida: Certificado SSL</div>
          <p>El servidor SAP usa un certificado SSL auto-firmado. El navegador bloquea estas peticiones por seguridad.
            Para continuar:</p>
          <ol class="ssl-steps">
            <li>Haz clic en el bot√≥n de abajo para abrir el servidor SAP en una nueva pesta√±a.</li>
            <li>En la nueva pesta√±a ver√°s un aviso de "Sitio no seguro". Haz clic en <strong>"Avanzado"</strong> y luego
              en <strong>"Continuar"</strong>.</li>
            <li>Cierra esa pesta√±a y regresa aqu√≠. Vuelve a intentar la conexi√≥n.</li>
          </ol>
          <a [href]="certAcceptUrl" target="_blank" rel="noopener noreferrer" class="btn-ssl">
            üîì Abrir SAP y Aceptar Certificado
          </a>
        </div>

        <!-- Post Connection Features -->
        <div class="post-connection animate-fade" *ngIf="isConnected">
          <p class="card-desc mt-1">Conexi√≥n establecida. Ahora puedes consultar los datos directamente de SAP B1 hacia
            la interfaz web usando ServiceLayer.</p>

          <button (click)="fetchItems()" class="btn-connect secondary" [class.loading]="loadingItems"
            [disabled]="loadingItems">
            <span class="btn-text" *ngIf="!loadingItems">Consultar 5 Art√≠culos</span>
            <span class="spinner" *ngIf="loadingItems"></span>
          </button>

          <div class="status-message error animate-fade" *ngIf="itemsError">
            <span class="icon">‚ùå</span>
            {{ itemsError }}
          </div>

          <div class="table-container animate-fade" *ngIf="items.length > 0">
            <table class="items-table">
              <thead>
                <tr>
                  <th>C√≥digo</th>
                  <th>Descripci√≥n</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of items">
                  <td>{{ item.ItemCode }}</td>
                  <td>{{ item.ItemName }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

      </div>
    </section>
  </main>
</div>